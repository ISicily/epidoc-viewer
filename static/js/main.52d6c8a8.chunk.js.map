{"version":3,"sources":["../../epidoc-viewer-core/dist/convert.js","../../epidoc-viewer-core/dist/sharedRules.js","../../epidoc-viewer-core/dist/index.js","../../epidoc-viewer-core/dist/rules.js","../../epidoc-viewer-core/dist/diplomaticRules.js","../../epidoc-viewer-core/dist/LeidenViewer.js","../../epidoc-viewer-core/dist/LeidenPopup.js","fonts/NAU5_007woff/newathu5_7.woff","LOGO_ERC-FLAG_EU_cropped.jpg","ISicily_english_reduced.jpg","2258_ox_brand_blue_pos_rect.png","components/InterpretedToggle.js","App.js","reportWebVitals.js","theme.js","index.js"],"names":["Object","defineProperty","exports","value","require","_rules","_interopRequireDefault","_diplomaticRules","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","parser","DOMParser","_default","tei","openPopup","showInterpreted","overridingRules","fixedTEI","replace","showDiplomatic","normalize","parent","document","createElement","parseFromString","querySelectorAll","node","appendChild","tw","createTreeWalker","rulesToApply","nextNode","currentNode","nodeType","Node","TEXT_NODE","includes","parentNode","nodeName","nodeValue","toUpperCase","rule","nextBracketToMatch","nodeWithLastBracketMatched","trim","startsWith","slice","endsWith","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","prototype","toString","call","constructor","name","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","isLatinSpecifiedInAncestor","getAttribute","isInterpreted","type","subtype","title","className","append","concat","prepend","_title","span","childNodes","child","sup","textContent","breakAttr","style","textIndicator","numSpan","extent","unit","isUncertain","quantity","elementText","reason","atLeast","atMost","precision","precisionOutput","isLine","closingDelimiter","repeat","beforeText","afterText","combiningChar","split","map","character","join","get","_convert","_LeidenViewer","_sharedRules","getDescendants","accum","isNotElidableSupplied","firstReason","ELEMENT_NODE","isBreak","isInterveningText","hyperlinkNode","ref","a","href","createAttribute","setAttributeNode","makePopupable","popupText","addEventListener","exChild","querySelector","cert","newAttribute","lastIndexOf","handNumber","number","substring","del","removeChild","place","underlineSpan","underline","lastVisitedSupplied","addOpeningBracket","descendants","setAttribute","addClosingBracket","mergeAdjacentSupplied","rend","oldText","charAt","strikethrough","supraline","_underline","processHi","reg","corr","_popupText","isInterveningBreak","getTextFromSuppliedAndAdjacentSupplieds","suppliedNode","containedLineBreak","root","splittingElement","grandparent","right","cloneNode","nextSibling","insertBefore","splitAround","suppliedText","exNode","isNaN","parseInt","firstChild","removeAllChildNodes","adjacentSupplied","result","done","findNextAdjacentSupplied","finalText","_typeof","_react","nodeInterop","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","hasOwnProperty","desc","set","_interopRequireWildcard","_core","_LeidenPopup","WeakMap","cacheBabelInterop","cacheNodeInterop","_slicedToArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","err","_iterableToArrayLimit","_nonIterableRest","_ref","referenceToEpidocDiv","_React$useState2","useState","setOpenPopup","_React$useState4","popupBody","setPopupBody","handleOpenPopup","body","useEffect","leiden","Box","m","textAlign","theElem","open","handleClose","useStyles","_Dialog","onClose","_DialogContent","_DialogContentText","id","_styles","_colors","makeStyles","avatar","backgroundColor","blue","color","AntSwitch","withStyles","theme","width","height","padding","display","switchBase","palette","grey","transform","common","white","opacity","primary","main","borderColor","thumb","boxShadow","track","border","borderRadius","checked","Switch","InterpretedToggle","onChange","FormGroup","Typography","component","variant","Grid","container","alignItems","spacing","item","background","button","maxWidth","maxHeight","minWidth","minHeight","titleBox","paddingTop","App","setTei","React","setShowInterpreted","fetch","then","res","text","classes","Container","src","isicilyLogo","alt","marginLeft","xs","Paper","TextField","placeholder","multiline","rows","rowsMax","fullWidth","e","direction","justify","float","event","overflow","justifyContent","ERClogo","oxfordLogo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","light","dark","secondary","default","typography","fontFamily","overrides","MuiPaper","margin","MuiButton","MuiInputBase","fontSize","lineHeight","input","ReactDOM","render","ThemeProvider","CssBaseline","getElementById"],"mappings":"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","file":"static/js/main.52d6c8a8.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nrequire(\"./Leiden.css\");\n\nvar _rules = _interopRequireDefault(require(\"./rules.js\"));\n\nvar _diplomaticRules = _interopRequireDefault(require(\"./diplomaticRules.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar parser = new DOMParser();\n\nfunction normalizeText(text) {\n  return text.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\");\n}\n\nfunction isBreak(node) {\n  return node.nodeType === Node.ELEMENT_NODE && ['lb', 'ab', 'cb', 'div'].includes(node.nodeName);\n}\n\nvar convert = function convert(tei, openPopup, showInterpreted, overridingRules) {\n  // openPopup takes two args:  title, body\n  var fixedTEI = tei.replace(/[\\r\\n\\t]/g, \"\");\n  var showDiplomatic = !showInterpreted;\n\n  if (showDiplomatic) {\n    fixedTEI = normalizeText(fixedTEI);\n  }\n\n  var parent = document.createElement('div');\n  parser.parseFromString(fixedTEI, \"application/xml\").querySelectorAll('div[type=\"edition\"]').forEach(function (node) {\n    return parent.appendChild(node);\n  }); // parser.preserveWhitespace=true;\n\n  var tw = document.createTreeWalker(parent); // choose interpreted or diplomatic rules\n\n  var rulesToApply = _objectSpread(_objectSpread({}, showInterpreted ? _rules[\"default\"] : _diplomaticRules[\"default\"]), overridingRules);\n\n  while (tw.nextNode()) {\n    if (tw.currentNode.nodeType === Node.TEXT_NODE && showDiplomatic && !['note', 'desc', 'gap'].includes(tw.currentNode.parentNode.nodeName)) {\n      tw.currentNode.nodeValue = tw.currentNode.nodeValue.toUpperCase();\n    }\n\n    var rule = rulesToApply[tw.currentNode.nodeName];\n    if (rule) rule(tw.currentNode, tw, openPopup);\n  } // second pass to remove adjacent brackets that should be elided\n  // start by setting treewalker back to root\n\n\n  tw.currentNode = parent;\n  var nextBracketToMatch = null;\n  var nodeWithLastBracketMatched = null;\n\n  while (tw.nextNode()) {\n    if (tw.currentNode.nodeType === Node.TEXT_NODE && tw.currentNode.nodeValue.trim()) {\n      if (nextBracketToMatch) {\n        if (tw.currentNode.nodeValue.trim().startsWith(nextBracketToMatch)) {\n          // found two adjacent brackets , e.g., ][ or )( or ><\n          // so remove both brackets\n          nodeWithLastBracketMatched.nodeValue = nodeWithLastBracketMatched.nodeValue.trim().slice(0, -1);\n          tw.currentNode.nodeValue = tw.currentNode.nodeValue.trim().slice(1);\n        } else {\n          // something else was in the text node besides the bracket we were looking for so\n          // clear our matches\n          nextBracketToMatch = null;\n          nodeWithLastBracketMatched = null;\n        }\n      } else if (tw.currentNode.nodeValue.trim().endsWith(']')) {\n        nextBracketToMatch = '[';\n        nodeWithLastBracketMatched = tw.currentNode;\n      } else if (tw.currentNode.nodeValue.trim().endsWith(')')) {\n        nextBracketToMatch = '(';\n        nodeWithLastBracketMatched = tw.currentNode;\n      } else if (tw.currentNode.nodeValue.trim().endsWith('>')) {\n        nextBracketToMatch = '<';\n        nodeWithLastBracketMatched = tw.currentNode;\n      }\n    }\n  }\n\n  return parent;\n};\n\nvar _default = convert;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar sharedRules = function sharedRules(isInterpreted) {\n  return {\n    'div': function div(node) {\n      var type = node.getAttribute('type');\n      var subtype = node.getAttribute('subtype');\n      var n = node.getAttribute('n');\n\n      if (type === 'textpart' && subtype === 'section') {\n        var title = document.createElement('span');\n        title.className += ' section-heading';\n        title.append(\"\".concat(subtype, \" \").concat(n));\n        node.prepend(title);\n      } else if (type === 'edition' && subtype === 'transliteration') {\n        var _title = document.createElement('span');\n\n        _title.className += ' section-heading';\n\n        _title.append(\"Transliteration\");\n\n        node.prepend(_title);\n      }\n    },\n    'ab': function ab(node) {\n      var span = document.createElement('span');\n      span.className += ' leiden-transcription';\n\n      _toConsumableArray(node.childNodes).forEach(function (child) {\n        return span.appendChild(child);\n      });\n\n      node.appendChild(span);\n    },\n    'milestone': function milestone(node) {\n      var sup = document.createElement('sup');\n      sup.textContent = \"\".concat(node.getAttribute('n'));\n      node.append('|');\n      node.append(sup);\n    },\n    'cb': function cb(node) {\n      var title = document.createElement('span');\n      title.className += ' section-heading';\n      title.append(\"Col. \".concat(node.getAttribute('n')));\n      node.prepend(title);\n    },\n    'lb': function lb(node) {\n      var breakAttr = node.getAttribute('break');\n      var n = node.getAttribute('n');\n      var style = node.getAttribute('style');\n      var textIndicator = ' ';\n\n      if (style === \"text-direction:r-to-l\") {\n        textIndicator = '←';\n      } else if (style === \"text-direction:l-to-r\") {\n        textIndicator = '→';\n      } else if (style === \"text-direction:spiral-clockwise\") {\n        textIndicator = '↻';\n      } else if (style === \"text-direction:circular-clockwise\") {\n        textIndicator = '↻';\n      } else if (style === \"text-direction:spiral-anticlockwise\") {\n        textIndicator = '↺';\n      } else if (style === \"text-direction:circular-anticlockwise\") {\n        textIndicator = '↺';\n      } else if (style === \"text-direction:upwards\") {\n        textIndicator = '↑';\n      } else if (style === \"text-direction:downwards\") {\n        textIndicator = '↓';\n      }\n\n      if (breakAttr === 'no' && isInterpreted) node.append('-');\n      if (n !== 1) node.append(document.createElement('br'));\n      var numSpan = document.createElement('span');\n      numSpan.className += ' leiden-num-span';\n      numSpan.append(\"\".concat(n, \". \").concat(textIndicator));\n      node.append(numSpan);\n    },\n    'space': function space(node) {\n      var extent = node.getAttribute('extent');\n      var unit = node.getAttribute('unit'); // character or line\n\n      var isUncertain = node.getAttribute('cert') === 'low';\n      var quantity = node.getAttribute('quantity');\n      var textContent = '(';\n\n      if (unit === 'line') {\n        textContent += 'vacat';\n      } else {\n        if (quantity || extent === 'unknown' && isUncertain) {\n          textContent += 'vac.';\n          if (quantity > 1) textContent += quantity;\n          if (isUncertain) textContent += '?';\n        } else if (extent === 'unknown') {\n          textContent += 'vacat';\n        }\n      }\n\n      textContent += ')';\n      node.textContent = textContent;\n    },\n    'gap': function gap(node) {\n      var elementText;\n      var reason = node.getAttribute('reason'); // 'lost' 'illegible' 'omitted'\n\n      var extent = node.getAttribute('extent'); // always 'unknown' if present?  - never in combination with quantity or atLeast/atMost\n\n      var quantity = node.getAttribute('quantity'); // not in combination with extent or atLeast/atMost\n\n      var unit = node.getAttribute('unit'); // character, line, or some other unit like cm\n\n      var atLeast = node.getAttribute('atLeast'); // not in combination with extent or quantity\n\n      var atMost = node.getAttribute('atMost'); // not in combination with extent or quantity\n\n      var precision = node.getAttribute('precision'); // 'low' output: ca. \n\n      var precisionOutput = precision && precision === 'low' ? 'ca.' : '';\n      var isLine = unit && unit === 'line';\n      var closingDelimiter = '';\n\n      if (reason === 'lost') {\n        if (isLine) {\n          if (extent === 'unknown') {\n            elementText = ' - - - - - ';\n          } else {\n            elementText = '  [- - - - - -';\n            closingDelimiter = ']  ';\n          }\n        } else {\n          // Dots are used only when exact number of characters is known.\n          // Dashes otherwise.\n          elementText = '[';\n\n          if (extent === 'unknown') {\n            elementText += '- - ? - -';\n          } else if (atLeast || atMost) {\n            elementText += \" - \".concat(atLeast, \"-\").concat(atMost, \" - \");\n          } else if (quantity && quantity < 5) {\n            elementText += '. '.repeat(quantity).trim();\n          } else if (quantity && quantity >= 5) {\n            if (precision === 'low' || unit !== 'character' && unit !== 'line') {\n              // note that we display the unit if it isn't 'character' or 'line' because it is likely 'cm'\n              elementText += \"- - \".concat(precisionOutput).concat(quantity).concat(unit !== 'character' && unit !== 'line' ? unit : '', \" - - \");\n            } else {\n              elementText += \". . \".concat(quantity, \" . . \");\n            }\n          }\n\n          closingDelimiter = ']';\n        }\n      } else if (reason === 'illegible') {\n        var beforeText = isLine ? '(Traces of ' : '. . ';\n        var afterText = isLine ? ' lines)' : ' . .';\n\n        if (extent === 'unknown') {\n          elementText = isLine ? \"\".concat(beforeText.trim()).concat(afterText) : \"\".concat(beforeText, \"?\").concat(afterText);\n        } else if (atLeast || atMost) {\n          elementText = \"\".concat(beforeText).concat(atLeast, \"-\").concat(atMost).concat(afterText);\n        } else if (quantity && quantity < 5) {\n          elementText = '. '.repeat(quantity).trim();\n        } else if (quantity && quantity >= 5) {\n          elementText = \"\".concat(beforeText).concat(precisionOutput).concat(quantity).concat(afterText);\n        }\n      } else if (reason === 'omitted') {\n        elementText = '<- - ? - ';\n        closingDelimiter = '->';\n      }\n\n      node.prepend(elementText);\n      node.append(closingDelimiter);\n    },\n    'unclear': function unclear(node) {\n      //&#x30A; is equivalent to U+030A and \\u030A\n      var combiningChar = isLatinSpecifiedInAncestor(node) ? \"\\u030A\" : \"\\u0323\";\n      node.textContent = node.textContent.split('').map(function (character) {\n        return character + combiningChar;\n      }).join('').trim();\n    }\n  };\n};\n\nvar isLatinSpecifiedInAncestor = function isLatinSpecifiedInAncestor(node) {\n  if (!node) {\n    return false;\n  } else if (node.getAttribute('xml:lang') === 'xpu-Latn') {\n    return true;\n  } else {\n    return isLatinSpecifiedInAncestor(node.parentNode);\n  }\n};\n\nvar _default = sharedRules;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"convert\", {\n  enumerable: true,\n  get: function get() {\n    return _convert[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"LeidenViewer\", {\n  enumerable: true,\n  get: function get() {\n    return _LeidenViewer[\"default\"];\n  }\n});\n\nvar _convert = _interopRequireDefault(require(\"./convert\"));\n\nvar _LeidenViewer = _interopRequireDefault(require(\"./LeidenViewer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _sharedRules = _interopRequireDefault(require(\"./sharedRules.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar getDescendants = function getDescendants(node, accum) {\n  accum = accum || [];\n\n  _toConsumableArray(node.childNodes).forEach(function (child) {\n    accum.push(child);\n    getDescendants(child, accum);\n  });\n\n  return accum;\n};\n\nvar addSingleSpaceSpan = function addSingleSpaceSpan(node) {\n  var whitespaceElem = document.createElement('span');\n  whitespaceElem.className += ' single-space-holder';\n  node.appendChild(whitespaceElem);\n};\n\nfunction underline(node) {\n  var underlineSpan = document.createElement('span');\n  underlineSpan.className = 'underline';\n\n  _toConsumableArray(node.childNodes).forEach(function (child) {\n    return underlineSpan.appendChild(child);\n  });\n\n  node.appendChild(underlineSpan);\n}\n\nfunction addOpeningBracket(reason, node) {\n  if (reason === 'lost') {\n    node.prepend('[');\n  } else if (reason === 'omitted') {\n    node.prepend('<');\n  } else if (reason === 'subaudible') {\n    node.prepend('(scil. ');\n  }\n}\n\nfunction addClosingBracket(reason, node) {\n  if (reason === 'lost') {\n    node.append(']');\n  } else if (reason === 'omitted') {\n    node.append('>');\n  } else if (reason === 'subaudible') {\n    node.append(')');\n  }\n}\n/* \n    when we hit a supplied, prepend a square bracket, and then start looking for an adjacent supplied.\n    As soon as we hit a text node with actual text, stop, and append a bracket to the last supplied we found.\n    If we hit another supplied, then start looking for another.\n\n    */\n\n\nvar mergeAdjacentSupplied = function mergeAdjacentSupplied(node, tw) {\n  var isUncertain = node.getAttribute('cert') === 'low';\n  var reason = node.getAttribute('reason');\n  var lastVisitedSupplied = node;\n  addOpeningBracket(reason, node);\n  if (isUncertain) node.append('(?)');\n  var descendants = getDescendants(node);\n  var currentNode = tw.nextNode();\n\n  while (currentNode) {\n    if (descendants.includes(currentNode)) {\n      // skip all descendants of 'supplied'\n      // POSSIBLE TODO:  check for breaks (lb ab cb) in descendants, and if there, add an\n      // opening bracket before, and a closing bracket after.\n      currentNode = tw.nextNode();\n    } else if (isInterveningText(currentNode) || isBreak(currentNode) || isNotElidableSupplied(currentNode, reason)) {\n      currentNode = null; // we are done\n    } else if (currentNode.nodeType === Node.ELEMENT_NODE && currentNode.nodeName === 'supplied') {\n      // we've found another adjacent supplied\n      lastVisitedSupplied = currentNode;\n      if (currentNode.getAttribute('cert') === \"low\") currentNode.append('(?)');\n      currentNode.setAttribute('leiden-processed', 'true'); // this is so we don't apply our rule to this 'supplied' later\n\n      descendants = getDescendants(currentNode); // now ignore the descendants of this 'supplied' node \n\n      currentNode = tw.nextNode();\n    } else {\n      // skip over any other nodes, e.g, empty text nodes, other elements, etc.\n      currentNode = tw.nextNode();\n    }\n  } // need to append the end bracket here if we've reached the end of the elements, \n  // without having hit a text node earlier\n\n\n  addClosingBracket(reason, lastVisitedSupplied); // reset tree walker back to original node\n\n  tw.currentNode = node;\n};\n\nfunction isNotElidableSupplied(currentNode, firstReason) {\n  return currentNode.nodeType === Node.ELEMENT_NODE && currentNode.nodeName === 'supplied' && (currentNode.getAttribute('reason') !== firstReason || currentNode.getAttribute('evidence') === 'previouseditor');\n}\n\nfunction isBreak(currentNode) {\n  return currentNode.nodeType === Node.ELEMENT_NODE && ['lb', 'ab', 'cb', 'div'].includes(currentNode.nodeName);\n}\n\nfunction isInterveningText(currentNode) {\n  return currentNode.nodeType === Node.TEXT_NODE && currentNode.nodeValue.trim().length;\n}\n\nfunction processHi(node) {\n  var rend = node.getAttribute('rend');\n\n  if (rend === 'ligature') {\n    // add circumflex over every character except last\n    node.textContent = node.textContent.split('').join(\"\\u0302\");\n  } else if (rend === \"apex\") {\n    var oldText = node.textContent;\n    node.textContent = oldText.charAt(0) + \"\\u0301\" + oldText.substring(1);\n  } else if (rend === \"reversed\") {\n    node.prepend('((');\n    node.append('))');\n  } else if (rend === \"intraline\") {\n    var strikethrough = document.createElement('span');\n    strikethrough.textContent = node.textContent;\n    strikethrough.className += ' strikethrough';\n    node.textContent = '';\n    node.appendChild(strikethrough);\n    /* const strikethrough = document.createElement('s');\n    strikethrough.textContent = node.textContent;\n    node.textContent = '';\n    node.appendChild(strikethrough); */\n  } else if (rend === \"supraline\") {\n    var supraline = document.createElement('span');\n    supraline.textContent = node.textContent;\n    supraline.className += ' supraline';\n    node.textContent = '';\n    node.appendChild(supraline);\n  } else if (rend === \"underline\") {\n    var _underline = document.createElement('span');\n\n    _underline.textContent = node.textContent;\n    _underline.className += ' underline';\n    node.textContent = '';\n    node.appendChild(_underline);\n  } else if (rend === \"superscript\") {\n    var sup = document.createElement('sup');\n    sup.textContent = node.textContent;\n    node.textContent = '';\n    node.appendChild(sup);\n  }\n}\n\nvar hyperlinkNode = function hyperlinkNode(node) {\n  var ref = node.getAttribute('ref');\n\n  if (ref) {\n    var a = document.createElement('a');\n    var href = document.createAttribute('href');\n    href.value = ref;\n    a.setAttributeNode(href);\n\n    _toConsumableArray(node.childNodes).forEach(function (child) {\n      return a.appendChild(child);\n    });\n\n    node.appendChild(a);\n  }\n};\n\nvar makePopupable = function makePopupable(node, popupText, openPopup) {\n  var sup = document.createElement('sup'); // lighter arrow: \\u2197   darker arrow: \\u2B08\n\n  sup.append(\"\\u2997\\u2197\\u2998\");\n  var span = document.createElement('span');\n  span.addEventListener(\"click\", function () {\n    return openPopup(popupText);\n  }); // copy the nodes children to the new span\n\n  _toConsumableArray(node.childNodes).forEach(function (child) {\n    return span.appendChild(child);\n  });\n\n  span.appendChild(sup);\n  node.appendChild(span);\n};\n\nvar appendSpaceToNode = function appendSpaceToNode(node, tw) {\n  /****  IMPORTANT: textContent removes all children and sets text of this node to a concatentation of children's text */\n  node.textContent = node.textContent + ' ';\n};\n\nvar rules = _objectSpread({\n  'w': function w(node) {\n    if (node.getAttribute('part') === 'I') {\n      var exChild = node.querySelector('ex');\n\n      if (exChild) {\n        exChild.append('-');\n      }\n    }\n  },\n  'ex': function ex(node) {\n    var cert = node.getAttribute('cert');\n    node.prepend('(');\n    if (cert === 'low') node.append('?');\n    node.append(')');\n  },\n  'abbr': function abbr(node) {\n    if (node.parentNode.nodeName !== 'expan') node.append('(- - -)');\n  },\n  'am': function am(node) {\n    node.textContent = '';\n  },\n  'del': function del(node) {\n    var rend = node.getAttribute('rend');\n\n    if (rend === \"erasure\") {\n      node.prepend('⟦');\n      node.append('⟧');\n    }\n  },\n  'handShift': function handShift(node) {\n    var newAttribute = node.getAttribute('new');\n    var n = newAttribute.lastIndexOf('h');\n    var handNumber = '';\n\n    if (n) {\n      var number = newAttribute.substring(n + 1);\n\n      if (number) {\n        handNumber = ' ' + number;\n      }\n    }\n\n    node.textContent = \"((hand\".concat(handNumber, \"))\");\n  },\n  'subst': function subst(node, tw, openPopup) {\n    var del = node.querySelector('del');\n\n    if (del) {\n      var rend = del.getAttribute('rend');\n\n      if (rend === 'corrected') {\n        var popupText = \"Deleted: \".concat(del.textContent);\n        del.parentNode.removeChild(del);\n        makePopupable(node, popupText, openPopup);\n      }\n    }\n  },\n  'num': function num(node, tw, openPopup) {\n    var value = node.getAttribute('value');\n    var atLeast = node.getAttribute('atLeast');\n    var atMost = node.getAttribute('atMost');\n    var popupText;\n\n    if (value) {\n      popupText = value;\n    } else if (atLeast && atMost) {\n      popupText = \"\".concat(atLeast, \"-\").concat(atMost);\n    }\n\n    if (popupText) {\n      makePopupable(node, popupText, openPopup);\n    }\n  },\n  'add': function add(node) {\n    var place = node.getAttribute('place');\n\n    if (place === 'overstrike') {\n      node.prepend('«');\n      node.append('»');\n    } else if (place === 'above') {\n      node.prepend('`');\n      node.append('´');\n    }\n  },\n  'surplus': function surplus(node) {\n    node.prepend('{');\n    node.append('}');\n  },\n  'desc': function desc(node) {\n    node.prepend('(');\n    node.append(')');\n  },\n  'note': function note(node) {\n    node.prepend('(');\n    node.append(')');\n  },\n  'g': appendSpaceToNode,\n  // 'name': appendSpaceToNode,\n  'placename': hyperlinkNode,\n  'persname': hyperlinkNode,\n  'supplied': function supplied(node, tw) {\n    // ignore 'supplied' that we merged into a prior 'supplied'\n    if (node.getAttribute('leiden-processed') === 'true') return null;\n\n    if (node.getAttribute('evidence') === 'previouseditor') {\n      // simply underline if previouseditor, no square brackets\n      underline(node);\n    } else {\n      mergeAdjacentSupplied(node, tw);\n    }\n  },\n  'hi': function hi(node) {\n    processHi(node);\n  },\n  'choice': function choice(node, tw, openPopup) {\n    var reg = node.querySelector('reg');\n    var corr = node.querySelector('corr');\n\n    if (reg) {\n      var popupText = \"Regularized: \".concat(reg.textContent);\n      reg.parentNode.removeChild(reg);\n      makePopupable(node, popupText, openPopup);\n    } else if (corr) {\n      var _popupText = \"Corrected: \".concat(corr.textContent);\n\n      corr.parentNode.removeChild(corr);\n      makePopupable(node, _popupText, openPopup);\n    }\n  }\n}, (0, _sharedRules[\"default\"])(true));\n\nvar _default = rules;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _sharedRules = _interopRequireDefault(require(\"./sharedRules.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction isInterveningBreak(currentNode) {\n  return currentNode.nodeType === Node.ELEMENT_NODE && ['lb', 'ab', 'cb', 'div'].includes(currentNode.nodeName);\n}\n\nfunction isInterveningText(currentNode) {\n  return currentNode.nodeType === Node.TEXT_NODE && currentNode.nodeValue.trim().length;\n}\n\nvar removeAllChildNodes = function removeAllChildNodes(parent) {\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n};\n\nvar splitAround = function splitAround(root, splittingElement) {\n  // divide the tree starting at root to the left and right of splittingElement\n  // from https://stackoverflow.com/questions/27497718/splitting-node-content-in-javascript-dom\n  for (var parent = splittingElement.parentNode; root != parent; parent = grandparent) {\n    var right = parent.cloneNode(false);\n\n    while (splittingElement.nextSibling) {\n      right.appendChild(splittingElement.nextSibling);\n    }\n\n    var grandparent = parent.parentNode;\n    grandparent.insertBefore(right, parent.nextSibling);\n    grandparent.insertBefore(splittingElement, right);\n  }\n};\n\nvar findNextAdjacentSupplied = function findNextAdjacentSupplied(tw) {\n  // let priorNode = tw.currentNode;\n  var result = null;\n  var done = false;\n\n  while (!done && tw.nextNode()) {\n    if (isInterveningText(tw.currentNode) || isInterveningBreak(tw.currentNode)) {\n      done = true; // no adjacent <supplied>, so done\n    } else if (tw.currentNode.nodeType === Node.ELEMENT_NODE && ['supplied', 'gap'].includes(tw.currentNode.nodeName)) {\n      result = tw.currentNode; // we've found another adjacent supplied or gap\n\n      done = true;\n    }\n  } // tw.currentNode = priorNode  // reset treewalker \n\n\n  return result; // return supplied node if any\n};\n\nvar getTextFromSuppliedAndAdjacentSupplieds = function getTextFromSuppliedAndAdjacentSupplieds(suppliedNode, tw) {\n  var containedLineBreak = suppliedNode.querySelector('lb');\n\n  if (containedLineBreak) {\n    // split the supplied in two and then continue\n    splitAround(suppliedNode.parentNode, containedLineBreak);\n  }\n\n  var suppliedText = '';\n  var reason = suppliedNode.getAttribute('reason');\n\n  if (reason === 'omitted' || reason === 'subaudible') {\n    suppliedNode.textContent = ''; // ignore these supplied elements\n  } else {\n    // remove any supplied expansions of abbreviations\n    suppliedNode.querySelectorAll('ex').forEach(function (exNode) {\n      return exNode.textContent = '';\n    });\n\n    if (suppliedNode.nodeName === 'supplied') {\n      suppliedText = suppliedNode.textContent.trim();\n    } else if (suppliedNode.nodeName === 'gap') {\n      var quantity = suppliedNode.getAttribute('quantity');\n\n      if (quantity && !isNaN(quantity)) {\n        suppliedText = 'X'.repeat(parseInt(quantity));\n      }\n    }\n\n    removeAllChildNodes(suppliedNode);\n    var adjacentSupplied = findNextAdjacentSupplied(tw); // see if there is an adjacent supplied\n\n    if (adjacentSupplied) {\n      suppliedText = suppliedText + getTextFromSuppliedAndAdjacentSupplieds(adjacentSupplied, tw);\n      adjacentSupplied.parentNode.removeChild(adjacentSupplied); //adjacentSupplied.textContent = ''\n    }\n  }\n\n  return suppliedText;\n};\n\nvar diplomaticRules = _objectSpread({\n  'supplied': function supplied(node, tw) {\n    var finalText = getTextFromSuppliedAndAdjacentSupplieds(node, tw);\n\n    if (!finalText) {\n      node.textContent = '';\n    } else if (finalText.length < 5) {\n      node.textContent = \"[ \".concat('.'.repeat(finalText.length), \"]\");\n    } else {\n      node.textContent = \"[.. \".concat(finalText.length, \" ..]\");\n    }\n\n    tw.currentNode = node; // reset treewalker\n  },\n  // 'unclear': node => node.textContent = '',\n  // 'gap': node => node.textContent = '',\n  'desc': function desc(node) {\n    return node.textContent = '';\n  },\n  'note': function note(node) {\n    return node.textContent = '';\n  },\n  'ex': function ex(node) {\n    return node.textContent = '';\n  }\n}, (0, _sharedRules[\"default\"])(false));\n\nvar _default = diplomaticRules;\nexports[\"default\"] = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _core = require(\"@material-ui/core\");\n\nvar _LeidenPopup = _interopRequireDefault(require(\"./LeidenPopup\"));\n\nvar _convert = _interopRequireDefault(require(\"./convert\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar LeidenViewer = function LeidenViewer(_ref) {\n  var tei = _ref.tei,\n      showInterpreted = _ref.showInterpreted,\n      overridingRules = _ref.overridingRules;\n  var referenceToEpidocDiv;\n\n  var _React$useState = _react[\"default\"].useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      openPopup = _React$useState2[0],\n      setOpenPopup = _React$useState2[1];\n\n  var _React$useState3 = _react[\"default\"].useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      popupBody = _React$useState4[0],\n      setPopupBody = _React$useState4[1];\n\n  var handleOpenPopup = function handleOpenPopup(body) {\n    setPopupBody(body);\n    setOpenPopup(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpenPopup(false);\n  };\n\n  (0, _react.useEffect)(function () {\n    if (tei) {\n      referenceToEpidocDiv.childNodes.forEach(function (child) {\n        return referenceToEpidocDiv.removeChild(child);\n      });\n      var leiden = (0, _convert[\"default\"])(tei, handleOpenPopup, showInterpreted, overridingRules);\n      referenceToEpidocDiv.appendChild(leiden);\n    }\n  }, [tei, showInterpreted]);\n  return /*#__PURE__*/_react[\"default\"].createElement(_core.Box, {\n    m: 4,\n    textAlign: \"left\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: function ref(theElem) {\n      return referenceToEpidocDiv = theElem;\n    }\n  }), /*#__PURE__*/_react[\"default\"].createElement(_LeidenPopup[\"default\"], {\n    body: popupBody,\n    open: openPopup,\n    handleClose: handleClose\n  }));\n};\n\nvar _default = LeidenViewer;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = LeidenPopup;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styles = require(\"@material-ui/core/styles\");\n\nvar _DialogTitle = _interopRequireDefault(require(\"@material-ui/core/DialogTitle\"));\n\nvar _DialogContent = _interopRequireDefault(require(\"@material-ui/core/DialogContent\"));\n\nvar _DialogContentText = _interopRequireDefault(require(\"@material-ui/core/DialogContentText\"));\n\nvar _Dialog = _interopRequireDefault(require(\"@material-ui/core/Dialog\"));\n\nvar _colors = require(\"@material-ui/core/colors\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar emails = ['username@gmail.com', 'user02@gmail.com'];\nvar useStyles = (0, _styles.makeStyles)({\n  avatar: {\n    backgroundColor: _colors.blue[100],\n    color: _colors.blue[600]\n  }\n});\n\nfunction LeidenPopup(_ref) {\n  var body = _ref.body,\n      open = _ref.open,\n      handleClose = _ref.handleClose;\n  var classes = useStyles();\n  return /*#__PURE__*/_react[\"default\"].createElement(_Dialog[\"default\"], {\n    \"aria-labelledby\": \"simple-dialog-title\",\n    open: open,\n    onClose: handleClose\n  }, /*#__PURE__*/_react[\"default\"].createElement(_DialogContent[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(_DialogContentText[\"default\"], {\n    id: \"alert-dialog-description\"\n  }, body)));\n}","export default __webpack_public_path__ + \"static/media/newathu5_7.60c94226.woff\";","export default __webpack_public_path__ + \"static/media/LOGO_ERC-FLAG_EU_cropped.416e9369.jpg\";","export default __webpack_public_path__ + \"static/media/ISicily_english_reduced.98bb9d6f.jpg\";","export default __webpack_public_path__ + \"static/media/2258_ox_brand_blue_pos_rect.595ca68d.png\";","import React from 'react';\nimport Switch from '@material-ui/core/Switch';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst AntSwitch = withStyles((theme) => ({\n  root: {\n    width: 28,\n    height: 16,\n    padding: 0,\n    display: 'flex',\n  },\n  switchBase: {\n    padding: 2,\n    color: theme.palette.grey[500],\n    '&$checked': {\n      transform: 'translateX(12px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        opacity: 1,\n        backgroundColor: theme.palette.primary.main,\n        borderColor: theme.palette.primary.main,\n      },\n    },\n  },\n  thumb: {\n    width: 12,\n    height: 12,\n    boxShadow: 'none',\n  },\n  track: {\n    border: `1px solid ${theme.palette.grey[500]}`,\n    borderRadius: 16 / 2,\n    opacity: 1,\n    backgroundColor: theme.palette.common.white,\n  },\n  checked: {},\n}))(Switch);\n\nconst InterpretedToggle = ({checked, onChange}) => (\n    <FormGroup>\n        <Typography component=\"div\" variant=\"body2\">\n            <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n            <Grid item>Diplomatic</Grid>\n            <Grid item>\n                <AntSwitch checked={checked} onChange={onChange} />\n            </Grid>\n            <Grid item>Interpreted</Grid>\n            </Grid>\n        </Typography>\n    </FormGroup>\n)\n\nexport default InterpretedToggle","import ERClogo from './LOGO_ERC-FLAG_EU_cropped.jpg';\nimport isicilyLogo from './ISicily_english_reduced.jpg';\nimport oxfordLogo from './2258_ox_brand_blue_pos_rect.png' \nimport './App.css';\nimport React, {useState, useEffect} from 'react';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport { Paper, TextField, Box, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {LeidenViewer} from '@isicily/epidoc-viewer-core'\n\nimport InterpretedToggle from './components/InterpretedToggle'\n\nconst useStyles = makeStyles({\n  root: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    border: 0,\n    borderRadius: 3,\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    color: 'white',\n    height: 48,\n    padding: '0 30px',\n  },\n  button: {\n    maxWidth: '100px', \n    maxHeight: '40px', \n    minWidth: '100px', \n    minHeight: '40px'\n  },\n  titleBox: {\n    paddingTop:'1em'\n  }\n});\n\n\nfunction App() {\n\n  const [tei, setTei] = useState()\n\n  const [showInterpreted, setShowInterpreted] = React.useState(true);\n\n  const overridingRules = {} // here is where someone could add their own rules or override existing rules\n    \n  const handleChange = (event) => {\n    setShowInterpreted(event.target.checked);\n  };\n\n  useEffect(() => {\n    fetch('https://raw.githubusercontent.com/ISicily/ISicily/master/alists/ISic-all-example.xml')\n      .then(res => res.text())\n      .then (res => setTei(res))\n  }, []);\n\n  const classes = useStyles();\n\n  return (\n    <Container maxWidth={false} className=\"App\"><Grid container spacing={1} className={classes.titleBox} >\n    \n    <Box display=\"flex\"\n          height={100}\n          m=\"auto\"\n          alignItems=\"center\">\n      <img src={isicilyLogo} alt=\"logo\" height={100}/>\n      <Typography variant=\"h4\" component=\"h1\" style={{marginLeft:\"2em\"}}>\n        I.Sicily EpiDoc Viewer\n      </Typography>\n    </Box>\n   \n</Grid>\n      <Grid container spacing={3}>\n        <Grid item xs={6} >\n          <Paper>\n          <h4>Epidoc</h4>\n          <Box height={'32em'}>\n            \n            <TextField\n              placeholder={`Paste your text division here`}\n              multiline\n              rows={26}\n              rowsMax={26}\n              fullWidth\n              value={tei}\n              onChange={e => setTei(e.target.value)}\n            />\n            </Box>\n          </Paper>\n        </Grid>\n        <Grid item xs={6} >\n          <Paper >\n            <Grid container direction=\"row\"\n  justify=\"center\"\n  alignItems=\"center\"\n>\n              <Grid item xs={4}></Grid>\n              <Grid item xs={4}><h4>Leiden</h4></Grid>\n              <Grid item xs={4}><span style={{float: 'right', minWidth: '200px'}}><InterpretedToggle checked={showInterpreted} onChange={handleChange}/></span></Grid>\n            </Grid>\n            <Box height={'32em'} overflow=\"auto\" >\n            <LeidenViewer tei={tei} showInterpreted={showInterpreted}/>\n          </Box>\n          </Paper>\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={2} className={classes.titleBox} >\n              <Grid item xs={3} >\n                <Box display=\"flex\" \n                height={100}\n                alignItems=\"center\"\n                justifyContent=\"center\">\n                  <img src={ERClogo} alt=\"logo\" height={100}/>\n                </Box>\n              </Grid>\n              <Grid item xs={5} >\n                <Box m={1}>\n                  <Typography variant=\"body2\">\n                  This project has received funding from the John Fell Fund of the University of Oxford, and from the European Research Council (ERC) under the European Union’s Horizon 2020 research and innovation programme (grant agreement No 885040, “Crossreads”).\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item xs={4} >\n                <Box \n                display=\"flex\" \n                height={100}\n                alignItems=\"center\"\n                justifyContent=\"center\">\n                  <img src={oxfordLogo} alt=\"logo\" height={80}/>\n                </Box>\n              </Grid>\n      </Grid>\n\n\n    </Container>\n  );\n}\n\n\n\n\nexport default App;\n\n/* \n{ \n  width:200px; \n  height:200px; \n  position: fixed; \n  background-color: blue; \n  top: 50%; \n  left: 50%; \n  margin-top: -100px; \n  margin-left: -100px; \n}  */","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\n// https://medium.com/@weberzt/importing-a-google-font-into-your-react-app-using-material-ui-773760ded532\nconst ptsans =  \"'PT Sans', sans-serif\";\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'light',\n    primary: {\n      main: '#002147',\n      light: '#002147',\n      dark: '#002147',\n    },\n    secondary: {\n      main: '#002147',\n      light: '#002147',\n      dark: '#002147',\n    },\n    background: {\n      default: '#e6e6e6',\n    },\n    text:{\n        primary: \"#002147\"\n      }\n  },\n  typography: {\n    fontFamily: ptsans\n    },\n  overrides: {\n    MuiPaper: {\n      root: {\n        padding: '30px 30px',\n        margin: '30px',\n        backgroundColor: '#fff', \n      },\n    },\n    MuiButton: {\n      root: {\n        margin: '15px',\n      },\n    },\n    MuiInputBase: {\n      root: {\n        fontSize: '14px',\n        lineHeight: '17px',\n      },\n      input: {\n        height: '0.95em',\n      }\n    },\n  },\n});\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './fonts/NAU5_007woff/newathu5_7.woff'; \nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.getElementById('root'),\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}